<!DOCTYPE html>
<html>
<head>
    <title>{{title}}</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="/socket.io/socket.io.js"></script>
    <script src="/javascripts/chat.js"></script>
</head>
<body onload="init('{{roomName}}')">

<!-- Form di ingresso -->
<div id="initial_form" class="container mt-5" style="display: block;">
    <h2>Join a Chat Room</h2>
    <form onsubmit="return false;">
        <p>
            <label for="name">Your Name:</label>
            <input type="text" id="name" class="form-control" required>
        </p>
        <p>
            <label for="roomNo">Room ID:</label>
            <input type="text" id="roomNo" class="form-control" value="{{roomName}}" readonly>
        </p>
        <button class="btn btn-primary" onclick="connectToRoom()">Connect</button>
    </form>
</div>

<!-- Interfaccia chat -->
<div id="chat_interface" class="container mt-5" style="display: none;">
    <div>
        <span id="who_you_are"></span>, you are in room: <span id="in_room"></span>
    </div>
    <div id="history" class="border p-3 mb-3" style="height: 300px; overflow-y: scroll; background-color: bisque;"></div>
    <div class="input-group">
        <input id="chat_input" type="text" class="form-control" placeholder="Type a message..." autocomplete="off">
        <button class="btn btn-success" onclick="sendChatText()">Send</button>
    </div>
</div>

</body>
</html>